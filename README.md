# üåä WaveChat

–ú–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä –Ω–∞ WebSocket. –û–±—â–∏–π —á–∞—Ç + –ª–∏—á–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è + –≥–æ–ª–æ—Å–æ–≤—ã–µ + —Ñ–∞–π–ª—ã.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üí¨ –û–±—â–∏–π —á–∞—Ç –¥–ª—è –≤—Å–µ—Ö
- üîí –õ–∏—á–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è (DM) ‚Äî –∫–ª–∏–∫–Ω–∏ –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- üé§ –ì–æ–ª–æ—Å–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è ‚Äî –∑–∞–∂–º–∏ –∫–Ω–æ–ø–∫—É –º–∏–∫—Ä–æ—Ñ–æ–Ω–∞
- üìé –û—Ç–ø—Ä–∞–≤–∫–∞ —Ñ–∞–π–ª–æ–≤ –∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (–¥–æ 25 MB)
- @ —Ç–∞—Ä–≥–µ—Ç ‚Äî –Ω–∞–ø–∏—à–∏ `@–∏–º—è` —á—Ç–æ–±—ã –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É —á–µ–ª–æ–≤–µ–∫—É
- üë• –°–ø–∏—Å–æ–∫ –æ–Ω–ª–∞–π–Ω-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- üìú –ò—Å—Ç–æ—Ä–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π (–ø–æ—Å–ª–µ–¥–Ω–∏–µ 200)
- üîÑ –ê–≤—Ç–æ-—Ä–µ–∫–æ–Ω–Ω–µ–∫—Ç –ø—Ä–∏ –æ–±—Ä—ã–≤–µ

---

## –°—Ç–µ–∫

| –ß–∞—Å—Ç—å | –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è |
|-------|-----------|
| –°–µ—Ä–≤–µ—Ä | Python 3 + aiohttp |
| –ö–ª–∏–µ–Ω—Ç | HTML + CSS + JS (–æ–¥–∏–Ω —Ñ–∞–π–ª, –±–µ–∑ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤) |
| –ü—Ä–æ—Ç–æ–∫–æ–ª | WebSocket |

---

## –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫

```bash
# 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install aiohttp

# 2. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä
python server.py

# 3. –û—Ç–∫—Ä—ã—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ
http://localhost:8080
```

–ù–µ –æ—Ç–∫—Ä—ã–≤–∞–π `client.html` –¥–≤–æ–π–Ω—ã–º –∫–ª–∏–∫–æ–º ‚Äî —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ `http://localhost:8080`.

---

## –î–µ–ø–ª–æ–π –Ω–∞ Render.com

1. –ó–∞–ª–∏—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–∞ GitHub (`server.py`, `client.html`, `requirements.txt`)
2. **render.com** ‚Üí New ‚Üí Web Service ‚Üí –ø–æ–¥–∫–ª—é—á–∏—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
3. –ù–∞—Å—Ç—Ä–æ–π–∫–∏:
   - **Build Command:** `pip install -r requirements.txt`
   - **Start Command:** `python server.py`
   - **Instance Type:** Free
4. Deploy ‚Üí –ø–æ–ª—É—á–∏—Ç—å —Å—Å—ã–ª–∫—É `https://wavechat-xxxx.onrender.com`

### –ß—Ç–æ–±—ã —Å–µ—Ä–≤–µ—Ä –Ω–µ –∑–∞—Å—ã–ø–∞–ª

–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π –ø–ª–∞–Ω Render –∑–∞—Å—ã–ø–∞–µ—Ç —á–µ—Ä–µ–∑ 15 –º–∏–Ω—É—Ç –±–µ–∑ —Ç—Ä–∞—Ñ–∏–∫–∞.  
–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Å—è –Ω–∞ [uptimerobot.com](https://uptimerobot.com) –∏ –¥–æ–±–∞–≤—å HTTP-–º–æ–Ω–∏—Ç–æ—Ä –Ω–∞ —Å–≤–æ—é —Å—Å—ã–ª–∫—É —Å –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–º 5 –º–∏–Ω—É—Ç.

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
wavechat/
‚îú‚îÄ‚îÄ server.py        # Python —Å–µ—Ä–≤–µ—Ä (aiohttp) ‚Äî HTTP + WebSocket
‚îú‚îÄ‚îÄ client.html      # –í–µ–±-–∫–ª–∏–µ–Ω—Ç (–æ–¥–∏–Ω —Ñ–∞–π–ª)
‚îú‚îÄ‚îÄ requirements.txt # aiohttp>=3.9
‚îî‚îÄ‚îÄ README.md
```

---

## –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ |
|------------|-------------|----------|
| `PORT` | `8080` | –ü–æ—Ä—Ç —Å–µ—Ä–≤–µ—Ä–∞ |
| `MAX_FILE_MB` | `25` | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ |
| `HISTORY_LIMIT` | `200` | –ò—Å—Ç–æ—Ä–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π |

---

## API (WebSocket –ø—Ä–æ—Ç–æ–∫–æ–ª)

–í—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è ‚Äî JSON —á–µ—Ä–µ–∑ WebSocket –Ω–∞ `ws://host/ws`.

| –¢–∏–ø | –ö—Ç–æ ‚Üí –ö–æ–º—É | –ü–æ–ª—è |
|-----|-----------|------|
| `join` | client ‚Üí server | `name` |
| `init` | server ‚Üí client | `my_id`, `my_name`, `history[]`, `users[]` |
| `text` | –æ–±–∞ | `text`, `to_id?`, `from_name`, `dm`, `ts` |
| `file` | –æ–±–∞ | `filename`, `mime`, `data`(base64), `size`, `to_id?` |
| `voice` | –æ–±–∞ | `data`(base64), `duration`, `to_id?` |
| `users` | server ‚Üí client | `users[]` |
| `system` | server ‚Üí client | `text` |
| `typing` | –æ–±–∞ | `to_id?` |
| `dm_history` | –æ–±–∞ | `peer_id`, `messages[]` |

`to_id` ‚Äî –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π. –ï—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω ‚Äî —Å–æ–æ–±—â–µ–Ω–∏–µ –∏–¥—ë—Ç –≤—Å–µ–º.

---

## –í—ã–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ Render

**render.com** ‚Üí –≤—ã–±—Ä–∞—Ç—å —Å–µ—Ä–≤–∏—Å ‚Üí **Settings** ‚Üí **Suspend Service**  
–ò–ª–∏ –Ω–∞ –≥–ª–∞–≤–Ω–æ–π: –∫–Ω–æ–ø–∫–∞ `¬∑¬∑¬∑` ‚Üí **Suspend**.